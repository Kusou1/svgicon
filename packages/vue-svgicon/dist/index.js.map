{"version":3,"file":"index.js","sources":["../../svgicon/dist/utils.js","../../svgicon/dist/index.js","../src/index.ts"],"sourcesContent":["function getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min; //不含最大值，含最小值\n}\nvar idSeed = 0;\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\nexport default {\n    genUID: function () {\n        idSeed++;\n        return (idSeed +\n            '_' +\n            [1, 2, 3, 4, 5]\n                .map(function () { return chars[getRandomInt(0, chars.length)]; })\n                .join(''));\n    },\n};\n//# sourceMappingURL=utils.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport utils from './utils';\nvar SvgIcon = /** @class */ (function () {\n    function SvgIcon(props) {\n        this._props = {};\n        this.uid = '';\n        this.props = props;\n        this.uid = utils.genUID();\n    }\n    SvgIcon.setOptions = function (options) {\n        SvgIcon.options = __assign(__assign({}, SvgIcon.options), options);\n    };\n    Object.defineProperty(SvgIcon.prototype, \"props\", {\n        get: function () {\n            var props = __assign({}, this._props);\n            if (typeof props.original !== 'boolean' && 'original' in props) {\n                props.original = true;\n            }\n            if (typeof props.fill !== 'boolean' && 'fill' in props) {\n                props.fill = true;\n            }\n            return __assign({\n                width: SvgIcon.options.defaultWidth,\n                height: SvgIcon.options.defaultHeight,\n                fill: !SvgIcon.options.isStroke,\n                original: !!SvgIcon.options.isOriginalDefault,\n            }, props);\n        },\n        set: function (props) {\n            var _this = this;\n            // Check is props updated and apply new props\n            if (this._props !== props) {\n                var keys = Object.keys(this._props || {});\n                if (Object.keys(props || {}).length !== keys.length) {\n                    this._props = props;\n                }\n                else if (keys.some(function (key) { return _this._props[key] !== props[key]; })) {\n                    this._props = props;\n                }\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SvgIcon.prototype, \"colors\", {\n        get: function () {\n            var props = this.props;\n            if (props.color) {\n                return props.color.split(' ');\n            }\n            return [];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SvgIcon.prototype, \"icon\", {\n        get: function () {\n            return this.props.data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SvgIcon.prototype, \"iconData\", {\n        get: function () {\n            var resource = this.props.data;\n            var iconData = resource ? resource.data : null;\n            return iconData;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SvgIcon.prototype, \"clazz\", {\n        get: function () {\n            var props = this.props;\n            var clazz = SvgIcon.options.classPrefix + \"-icon\";\n            if (props.fill) {\n                clazz += \" \" + SvgIcon.options.classPrefix + \"-fill\";\n            }\n            if (props.dir) {\n                clazz += \" \" + SvgIcon.options.classPrefix + \"-\" + props.dir;\n            }\n            return clazz;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SvgIcon.prototype, \"path\", {\n        get: function () {\n            var _this = this;\n            var props = this.props;\n            var iconData = this.iconData;\n            var pathData = '';\n            if (iconData) {\n                pathData = iconData.data;\n                pathData = this.setTitle(pathData);\n                // use original color\n                if (props.original) {\n                    pathData = this.addOriginalColor(pathData);\n                }\n                if (this.colors.length > 0) {\n                    pathData = this.addColor(pathData);\n                }\n                // fix #99, inline svg use random id\n                var idReg = /svgiconid([\\w-/\\\\]+)/g;\n                pathData = pathData.replace(idReg, function (match, elId) {\n                    return \"svgiconid\" + elId + \"_\" + _this.uid;\n                });\n            }\n            return this.getValidPathData(pathData);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SvgIcon.prototype, \"box\", {\n        get: function () {\n            var props = this.props;\n            var iconData = this.iconData;\n            var width = typeof props.width === 'number'\n                ? props.width\n                : parseFloat(props.width || '16');\n            var height = typeof props.height === 'number'\n                ? props.height\n                : parseFloat(props.height || '16');\n            if (iconData) {\n                if (iconData.viewBox) {\n                    return iconData.viewBox;\n                }\n                return \"0 0 \" + iconData.width + \" \" + iconData.height;\n            }\n            return \"0 0 \" + width + \" \" + height;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SvgIcon.prototype, \"style\", {\n        get: function () {\n            var props = this.props;\n            var iconData = this.iconData;\n            var digitReg = /^\\d+$/;\n            var scale = props.scale;\n            var isScale = scale !== '' && scale !== undefined && scale !== null;\n            var width;\n            var height;\n            // apply scale\n            if (isScale && iconData) {\n                width = Number(iconData.width) * Number(scale) + 'px';\n                height = Number(iconData.height) * Number(scale) + 'px';\n            }\n            else {\n                width = digitReg.test(String(props.width || ''))\n                    ? props.width + 'px'\n                    : props.width || SvgIcon.options.defaultWidth;\n                height = digitReg.test(String(props.height || ''))\n                    ? props.height + 'px'\n                    : props.height || SvgIcon.options.defaultHeight;\n            }\n            var style = {};\n            if (width) {\n                style.width = width;\n            }\n            if (height) {\n                style.height = height;\n            }\n            return style;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SvgIcon.prototype.addColor = function (data) {\n        var props = this.props;\n        var colors = this.colors;\n        var reg = /<(path|rect|circle|polygon|line|polyline|ellipse)\\s/gi;\n        var i = 0;\n        return data.replace(reg, function (match) {\n            var color = colors[i++] || colors[colors.length - 1];\n            var fill = props.fill;\n            // if color is '_', ignore it\n            if (color && color === '_') {\n                return match;\n            }\n            // if color start with 'r-', reverse the fill value\n            if (color && /^r-/.test(color)) {\n                fill = !fill;\n                color = color.substr(2);\n            }\n            var style = fill ? 'fill' : 'stroke';\n            var reverseStyle = fill ? 'stroke' : 'fill';\n            return match + (style + \"=\\\"\" + color + \"\\\" \" + reverseStyle + \"=\\\"none\\\" \");\n        });\n    };\n    SvgIcon.prototype.addOriginalColor = function (data) {\n        var styleReg = /_fill=\"|_stroke=\"/gi;\n        return data.replace(styleReg, function (styleName) {\n            return styleName && styleName.slice(1);\n        });\n    };\n    SvgIcon.prototype.getValidPathData = function (pathData) {\n        var props = this.props;\n        var colors = this.colors;\n        // If use original and colors, clear double fill or stroke\n        if (props.original && colors.length > 0) {\n            var reg = /<(path|rect|circle|polygon|line|polyline|ellipse)(\\sfill|\\sstroke)([=\"\\w\\s.\\-+#$&>]+)(fill|stroke)/gi;\n            pathData = pathData.replace(reg, function (match, p1, p2, p3, p4) {\n                return \"<\" + p1 + p2 + p3 + \"_\" + p4;\n            });\n        }\n        return pathData;\n    };\n    SvgIcon.prototype.setTitle = function (pathData) {\n        var props = this.props;\n        if (props.title) {\n            var title = props.title\n                .replace(/</gi, '&lt;')\n                .replace(/>/gi, '&gt;')\n                .replace(/&/g, '&amp;');\n            return \"<title>\" + title + \"</title>\" + pathData;\n        }\n        return pathData;\n    };\n    SvgIcon.options = {\n        defaultWidth: '',\n        defaultHeight: '',\n        classPrefix: 'svg',\n        isStroke: false,\n        isOriginalDefault: false,\n    };\n    return SvgIcon;\n}());\nexport default SvgIcon;\n//# sourceMappingURL=index.js.map","import Vue, { CreateElement, VNode } from 'vue'\nimport SvgIconClass, {\n    Props,\n    Options,\n    SvgIconConstructor,\n    Icon,\n    IconData,\n} from '@yzfe/svgicon'\nimport '@yzfe/svgicon/lib/svgicon.css'\n\nconst VueSvgIcon = Vue.extend({\n    inheritAttrs: false,\n    data() {\n        return {\n            svgicon: null as SvgIconClass | null,\n        }\n    },\n\n    watch: {\n        $attrs: {\n            deep: true,\n            handler: function () {\n                if (this.svgicon) {\n                    this.svgicon.props = this.$attrs\n                }\n            },\n        },\n    },\n\n    created() {\n        this.svgicon = new SvgIconClass(this.$attrs)\n    },\n\n    methods: {\n        onClick(e: Event) {\n            this.$emit('click', e)\n        },\n    },\n\n    render: function (h: CreateElement): VNode {\n        return h('svg', {\n            attrs: {\n                version: '1.1',\n                viewBox: this.svgicon?.box,\n            },\n            style: this.svgicon?.style,\n            class: this.svgicon?.clazz,\n            domProps: {\n                innerHTML: this.svgicon?.path,\n            },\n            on: {\n                click: this.onClick,\n            },\n        })\n    },\n})\n\nconst setOptions = SvgIconClass.setOptions\n\nexport {\n    Icon,\n    IconData,\n    VueSvgIcon,\n    SvgIconConstructor,\n    setOptions,\n    Props,\n    Options,\n}\n"],"names":["idSeed","chars","map","min","max","length","Math","ceil","floor","random","join","__assign","Object","assign","t","s","i","n","arguments","p","prototype","hasOwnProperty","call","apply","this","SvgIcon","props","_props","uid","utils","setOptions","options","defineProperty","get","original","fill","width","defaultWidth","height","defaultHeight","isStroke","isOriginalDefault","set","_this","keys","some","key","enumerable","configurable","color","split","data","resource","clazz","classPrefix","dir","iconData","pathData","setTitle","addOriginalColor","colors","addColor","replace","match","elId","getValidPathData","parseFloat","viewBox","digitReg","scale","Number","test","String","style","substr","styleName","slice","p1","p2","p3","p4","title","VueSvgIcon","Vue","extend","inheritAttrs","svgicon","watch","$attrs","deep","handler","created","SvgIconClass","methods","onClick","e","$emit","render","h","attrs","version","box","class","domProps","innerHTML","path","on","click"],"mappings":"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"}